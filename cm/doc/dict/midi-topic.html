<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
<style type="text/css" media="all">
@import "../css/cm.css";
</style>
<title>Midi</title>
</head>
<body>
<div id="content">

<!-- Entry: "midi-text-evemt" -->
<dl class="dictsyntax">
<dt>[Topic]</dt>
<dd><span class="syntax">MIDI</span></dd>
</dl>

<p>
Common Music supports reading and writing all types of MIDI messages
to MIDI files and to the <a
href="http:www.grame.fr/MidiShare">Midishare</a> real time operating
system. Two levels of MIDI support are defined;
</p>

<ul>
<li>
A low level, foreign function interface connects directly to Midishare
for "interactive", or real-time work.
</li>
<li>
A high level interface provides Lisp classes and methods for
generating music to MIDI score files and to MidiShare in non-real time
mode.
</li>
</ul>

<p>
Note that non-real time does not mean <em>slower</em> than real time;
in most cases the high-level interface generates output many times
faster than real time.
</p>

<h3>Low level (real time) MIDI support</h3>

In order to work with Midishare in real time, a connection from CM to
MidiShare must first be established. This connection is represented by
an object called the <em>midi port</em>.

<p>
Functions related to opening and closing the midi port:
</p>

<dl>
<dt><code class="entry">(midi-open)</code></dt>
<dd>Opens connection to MidiShare.</dd>
<dt><code class="entry">(midi-close)</code></dt>
<dd>Closes connection to MidiShare.</dd>
<dt><code class="entry">(midi-open?)</code></dt>
<dd>Returns true if MidiShare is open.</dd>
<dt><code class="entry">(midi-reset </code>[<code class="keyword">:port </code><em>integer</em>]<code class="entry">)</code></dt>
<dd>Sends system reset to a MidiShare output port, which defaults to 0.</dd>
</dl>

Once the midi port has been open,

<h3>High level (non-real time) MIDI support</h3>

<p>
High level MIDI support provides class definitions for MIDI input
and output services and for MIDI event messaging.
</p>

<h4>MIDI Score Classes</h4>
<ul>
<li><a href="midi-file-stream-cls.html"><code>midi-file-stream</code></a></li>
<li><a
href="midishare-stream-cls.html"><code>midishare-stream</code></a></li>
<li><a href="player-stream-cls.html"><code>player-stream</code></a>
(Midishare sequencer)
</li>
</ul>

<h4>MIDI Channel Events</h4>
<ul>
<li>
<a href="midi-cls.html"><code>midi</code></a>
</li>

<li>
<a href="midi-note-on-cls.html"><code>midi-note-on</code></a>
</li>

<li>
<a href="midi-note-off-cls.html"><code>midi-note-off</code></a>
</li>

<li>
<a href="midi-note-off-cls.html"><code>midi-key-pressure</code></a>
</li>

<li>
<a href="midi-note-off-cls.html"><code>midi-control-change</code></a>
</li>

<li>
<a href="midi-note-off-cls.html"><code>midi-program-change</code></a>
</li>

<li>
<a href="midi-channel-pressure-cls.html"><code>midi-channel-pressure</code></a>
</li>

<li>
<a href="midi-pitch-bend-cls.html"><code>midi-pitch-bend</code></a>
</li>

</ul>

<h4>MIDI System Event Classes<h4>

<h4>MIDI Meta Event Classes<h4>



<h4>Midishare Events</h4>

<p>
For information about working with "low-level"  Midishare events and
real time scheduling see ???.
</p>



<!-- See also -->
<h4>See Also:</h4>


<!-- Footer -->
<div id="footer">
<div id="version">$Name$</div>
<div id="cvs-info">($Revision$, $Date$)</div>
</div>
</body>
</html>
