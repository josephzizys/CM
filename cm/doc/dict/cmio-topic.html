<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
<style type="text/css" media="all">
@import "../css/cm.css";
</style>
<title>CMIO</title>
</head>
<body>
<div id="content">

<dl class="dictsyntax">
<dt>[Topic]</dt>
<dd><span class="syntax">CMIO</span></dd>
</dl>

<p>
The CMIO (Common Music Input/Output) window is a graphical tool
designed to facilitate the generation of musical event data to and
from sound synthesis and display applications.  Which applications are
active in the window at any given time depend on what software systems
have been loaded into Common Music; the window's Systems and Files
pages can be used to dynamically configure and load external software
such as CLM, CMN and Midishare once the window is open.
<!-- More that one CMIO window may be open at the same time and the state
--> In addition, the precise characteristics of the various tabbed
pages of the interface can be customized by passing appropriate
arguments to the <a href="cmio-fn.html">cmio</a> function when the
window is created.

<h2>Window Layout</h2>

<p>
A CMIO window consists of four GUI components:
</p>

<ul>
<li>A <em>Sources</em> frame holds tabbed pages that relate to
creating and generating event data.</li>

<li>A <em>Targets</em> frame holds tab pages related to sound sysnthesis and
display configurations.
</li>
<li>
An <em>Executive</em> frame manages the system's working directory and current
input/output file. <!-- The Execute button triggers actions on files
according to user-defined semantics. -->
</li>
<li>A message line displays color coded information related to the
ongoing work inside the window.</li>
</ul>

<p>
Each tabbed page contains a set of <em>fields</em> representing the
input/output features of a given application. Left-justified page tabs
acess pages devoted to specific tasks and applications; the
right-justified pages relate to more general features of the window or
the Lisp environment.
</p>

<div class="float" id="example1">
<p class="captxt">
<span class="floatlabel">Example 1.</span> The four components of a
CMIO window: Sources, Targets, Executive and the Message
line. Event IO is the currently active source page and Midi is
the currently selected target.
</p>

<p>
<img src="cmio1.png" alt="[cmio1.png]"/>
</p>
</div>

Some simple coloration rules provide information about how fields work:
<ul>
<li>Blue labels mark <em>required</em> fields that must contain infomation
before the page can execute.
</li>

<li>
Yellow backgrounds indicate fields that will be
<em>evaluated</em> when the information is accessed.
</li>

<li>
White backgrounds indicate fields that either contain uninterpreted
text or are <em>read</em> to produce a Lisp value. It is possible to
force evaluation in a white field using the #.<em>expr </em> notation,
where <em>expr</em> is evaluated to produce the contents
of the field.
</li>

<li>
The Message line uses colors to classify the type of message
displayed: green represents a normal message, yellow indicates a
warning or notification, red signifies an error condition.
</li>
</ul>

<h2>Error handling and notification</h2>
<p>
A CMIO window facilitates musical tasks that would otherwise be
accomplished by evaluating Lisp expressions in the REPL. Under normal
conditions, evaulation errors in the REPL cause execution to stop and
the user is allowed to debug or resolve the error from inside
a <em>break </em> loop.  However, a CMIO window executes its windowing
operations via foreign function <em>callbacks</em> that do not expect
their flow of control to ever be interrupted. This means that
generating Lisp error breaks from inside a CMIO window will likely
cause the window to freeze and in sever cases may even cause the Lisp
session to immediately terminate. For this reason a CMIO window
attempts to evaluate Lisp functions in such a way that error messages
are reported in its Message line without ever entering Lisp's error
break loop. If you need to enter the Lisp break loop to debug a
problem then set <code>*cm-break-on-errors*</code> to true, but
realize that once the break is entered the CMIO window and possibly the whole GTK session may no longer work.
</p>

<h2>Display Pages</h2>

Each source or target choice is represented as a "page" in the
window.  data fields on each page can be set in the GUI and also
initialized by passing the appropriate values to the function when the
window is created.



