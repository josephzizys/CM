<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=iso-8859-1"/>
<style type="text/css" media="all">
@import "grace.css";
</style>
<title> Ports </title>
</head>

<body>
<div id="content">

<h1> Ports Menu</h1>

<p> The Console Window's Ports menu connects Grace to different audio
 visual resources such as MIDI devices, audio libraries, plotting
 windows, score files, etc.  The exact set of ports available in the
 menu is determined when the application is built. </p>

<div class="float">
  <img src="ports-menu.png" alt="[ports-menu.png]"/>
</div>

  
<p> Most ports support both realtime and non-realtime, or score,
modes. In realtime mode a port is 'open' and it processes data at the
exact time you <a href="scheme.html#send">send</a> it to the
port. <!-- (For this reason you typically specify a time stamp of 0 in
realtime data.) --> In non-realtime mode the port is 'closed' and it
buffers, or saves, the data you send it. This captured data is
contained in a <var>score</var> can then be written, displayed,
exported or cleared. When you send data to a score you are effectively
working "outside" of time -- you can add score data iteratively,
in successive passes, and insert data in any time order.
<!--
subsequent notes at any time point in
the score. - Time stamps in score data should be specified as
absoulute score time units. You can add events to the score in any
order,
--> 
(The port automatically sorts score data by time stamps
before it operates on the score.)  </p>

<p>A port's menu is sensitive to whether the port currently contains
score data or not. If the score has data then the port menu will
contain items that let you operate on the score or clear its data. If
the port's score is empty then the port menu will contain an Open item
for starting realtime work.  In summary:</p>

<ul>

  <li>To work with a port in non-realtime (scorefile) mode, send data
  to the closed port using score based time-stamps in the data.</li>

  <li>To work with a port in realtime mode use the port's Open menu
item and send data to the port using a time-stamp of 0.</li>
</ul>

See <a href="scheme.html#send">Sending Data to Ports</a> for more information about this process.

<h2>Midi Out Port</h2>
<p>The Midi Out Port connects Grace to external MIDI devices, software applications, and midi files.</p>

<p>See <a href="scheme.html#midi-port">Midi Port Methods</a> for documentation on how to work with the Csound Port in Scheme.</p>

<h4><span class="menuitem">Ports&gt;Midi Out&gt;Open...</span></h4>

<p>Not yet written.</p>

<h4><span class="menuitem">Ports&gt;Midi Out&gt;Write...</span></h4>

<p>Not yet written.</p>

<h4 id="midi-microtuning"><span class="menuitem">Ports&gt;Midi Out&gt;Microtuning</span></h4>

<p>Submenu for tuning the Midi Out port to various microtonal resolutions. To produce microtonal inflection first select one of the resolutions smaller than Semitone and then send floating point key numbers in your MIDI data. A floating point key number <var>kkk.ccc</var> is interpreted as <var>cc</var> cents above MIDI key number <var>kkk</var>. For example 60.55 specifies a sound that is 55 cents above Middle C. </p>


<div class="float">
  <img src="midi-microtuning.png" alt="[midi-microtuing.png]"/>
</div>

<p> Note that any resolution smaller then Semitone 'claims' channels
from the maximum available set of 16 untuned channels. For example
in Quartertone tuning the channels 0-7 are available for use and
channels 8-15 are reserved by the port. See the Instruments dialog for
more information.</p> 

<div class="float">
<table width="80%">
  <tr><th style="text-align: left;">Resolution</th> <th style="text-align: left;">Microtuned Channels</th> <th style="text-align: left;">Untuned channels</th></tr>

  <tr><td>Semitone</td><td> &mdash;</td> <td>0-15 </td> </tr>
  <tr><td>Quartertone</td><td>0-7</td> <td> &mdash;</td> </tr>
  <tr><td>33 Cents</td><td>0-4</td> <td>  15 </td> </tr>
  <tr><td>25 Cents</td><td>0-3</td> <td> &mdash;</td> </tr>
  <tr><td>20 Cents</td><td>0-2</td> <td> 15 </td> </tr>
  <tr><td>17 Cents</td><td>0-1</td> <td> 12-15 </td> </tr>
  <tr><td>14 Cents</td><td>0-1</td> <td> 14-15 </td></tr>      
  <tr><td>12 Cents</td><td>0-1</td> <td> &mdash;</td> </tr>
  <tr><td>11 Cents</td><td>0</td>   <td> 9-15  </td> </tr>
  <tr><td>10 Cents</td><td>0</td>   <td> 10-15 </td> </tr>
  <tr><td>9 Cents</td><td>0</td>    <td> 11-15 </td> </tr>
  <tr><td>8 Cents</td><td>0</td>    <td> 12-15 </td> </tr>  
  <tr><td>7.7 Cents</td><td>0</td>  <td> 13-15 </td> </tr>  
  <tr><td>7.1 Cents</td><td>0</td>  <td> 14-15 </td ></tr>  
  <tr><td>6.6 Cents</td><td>0</td>  <td> 15 </td> </tr>  
  <tr><td>6.25 Cents</td><td>0</td> <td> &mdash;</td> </tr>  
</table>
</div>
  
<h4 id="midi-instruments"><span class="menuitem">Ports&gt;Midi Out&gt;Instruments...</span></h4>

<p>Displays and assigns instruments for the available channels. The left side of the dialog lists each available channel number, its current tuning and instrument assignment. To select a different instrument, first select the channel, then select the Instrument and press Send.</p>

<div class="float">
  <img src="midi-instruments.png" alt="[midi-instruments.png]"/>
</div>

<h2 id="midi-in-port">Midi In Port</h2>

<p> The Midi In Port receives <a href="scheme.html#midi-message">Midi
Messages</a> from external MIDI devices and applications. The input
port allows you to associate a <a href="scheme.html#mp:inhook">Scheme
input hook</a> (function) to receive messages in real time as they
arrive at the port. The hook can then operate on this data, for
example, to trigger an algorithm to run in real time or to send it to
the Midi Out port or score.  </p>

<h4><span class="menuitem">Ports&gt;Midi In&gt;Open...</span></h4>

<p>Not yet written.</p>

<h4 id="midi-configure"><span class="menuitem">Ports&gt;Midi In&gt;Configure...</span></h4>

<p> Configures the Midi In port to accept only the specified types of messages and channels.
These messages will be passed to any MIDI input hook (function) that you assign to the Midi In port. See <a href="scheme.html#mp:inhook">mp:inhook</a> for information about setting Midi input hooks.</p>
</p>

<div class="float">
  <img src="midi-configure.png" alt="[midi-configure.png]"/>


<dl>
  <dt style="font-weight: bold;">Receive Messages</dt>
  <dd>Configures the port to accept all types of message or the specific types you select.</dd>
  <dt style="font-weight: bold;">Receive Messages</dt>
  <dd>Configures the port to accept all types of message or the specific types you select.</dd>
</dl>

</div>

<h2 id="csound-port">Csound Port</h2>

<p>The Csound port connects Grace to the <a href="http://sourceforge.net/project/showfiles.php?group_id=81968&package_id=120482">CSound5 sound synthesis library</a> for audio generation. Note that the Csound library must be installed on your machine before the Grace application can be started.</p>

<p>See <a href="scheme.html#csound-port">Csound Port Methods</a> for documentation on how to work with the Csound Port in Scheme.</p>



<h4 id="csound-open"><span class="menuitem">Ports&gt;Csound&gt;Open...</span></h4>

<p>Opens the Csound port for realtime audio processing. You can open and close the port multiple times in the same session, optionally reconfiguring it with different audio settings and .orc files each time you open it. The current Csound configuration is saved in the preferences file so that when you restart Grace the port will be initialized your settings from the previous session. </p>

<div class="float">
  <img src="csound-open.png" alt="[csound-open.png]"/>


<dl>
  <dt style="font-weight: bold;">Options</dt>
  <dd>The realtime audio settings to initialize Csound with. These options are saved in the grace preferences file.
  <dt style="font-weight: bold;">Orchestra</dt>    
  <dd>An orchestra (.orc) file containing the audio instruments for Csound to use. The file chooser remembers the last ten orchestra files you specify. 

</dl>
</div>

<h4 id="csound-close"><span class="menuitem">Ports&gt;Csound&gt;Close</span></h4>

<p>Closes the open Csound Port. You can send score data to a closed Csound port.</p>

<h4 id="csound-write"><span class="menuitem">Ports&gt;Csound&gt;Write...</span></h4>

<p>Writes all the buffered score data to Csound using the specified non-real time audio options and orchestra file. </p>

<div class="float">
  <img src="csound-write.png" alt="[csound-write.png]"/>
</div>

<h3 id="csound-export"><span class="menuitem">Ports&gt;Csound&gt;Export...</span></h3>

<p>Exports scorefile data using a specified text format an output destination.</p>

<div class="float">
  <img src="csound-export.png" alt="[csound-export.png]"/>


<dl>
  <dt style="font-weight: bold;">From</dt>
  <dd>An optional start time in the score to begin exporting. Defaults to the beginning of the score.</dd>
  <dt style="font-weight: bold;">To</dt>
  <dd>An optional end time in the score to stop exporting. Defaults to the end of the score.</dd>
  <dt style="font-weight: bold;">i statements</dt>
  <dd>Determines if the score's i statements will be included in the exported data.</dd>
  <dt style="font-weight: bold;">f statements</dt>
  <dd>Determines if the score's f statements will be included in the exported data.</dd>

  <dt style="font-weight: bold;">Export Format</dt>
  <dd>Specifies the output format for the exported data. Possible values are:
    <dl>
      <dt style="font-weight: bold;">Csound score</dt>
      <dd>Data is exported as i and f scorefile statements.</dd>
      <dt style="font-weight: bold;">SAL data</dt>
      <dd>Data is exported for SAL lists, each sublist contains the pfield data of one i or f statement.</dd>
      <dt style="font-weight: bold;">Lisp data</dt>
      <dd>Data is exports as Lisp lists, each sublist holds the pfield data of one i or f statement.</dd>
      <dt style="font-weight: bold;">Sal Sends</dt>
      <dd>Exports data as a sequence of SAL <a href="scheme.html#send">send statements</a> that, if executed, would recreate the score.</dd>
      <dt style="font-weight: bold;">Lisp Sends</dt>
      <dd>Exports data as a sequence of Lisp <a href="scheme.html#send">send statements</a> that, if executed, would recreate the score.</dd>
      </dl>
  </dd>

<dt style="font-weight: bold;">Export To</dt>
<dd>Selects the destination to receive the exported score data, either the Console Window, clipboard or a specified file.</dd>
</dl>

</div>

<h4 id="csound-display"><span class="menuitem">Ports&gt;Csound&gt;Display...</span></h4>

<p>Sends score data to Plotter for graphical editing. (Not yet available.)</p>





<h4 id="csound-open"><span class="menuitem">Ports&gt;Csound&gt;Clear.</span></h4>

<p>Clears the port of all buffered score data.</p>





<h2> Plotter </h2>

<p>Not yet written.</n>

</div>
</body>
</html>


